# HÆ°á»›ng Dáº«n Sá»­ Dá»¥ng PMC Planning

## Tá»•ng quan
PMC Planning lÃ  cÃ´ng cá»¥ láº­p káº¿ hoáº¡ch sáº£n xuáº¥t chi tiáº¿t theo tuáº§n cho toÃ n bá»™ sáº£n pháº©m - linh kiá»‡n - khÃ¡ch hÃ ng phun/in.

## Truy cáº­p
- URL: `http://localhost:4200/production-planning`
- Menu: **Quáº£n lÃ½ sáº£n xuáº¥t â†’ Káº¿ hoáº¡ch chi tiáº¿t**

## Cáº¥u trÃºc tuáº§n PMC
- Má»—i PMC gá»“m **6 ngÃ y**: Thá»© 2 â†’ Thá»© 7 cá»§a tuáº§n káº¿ tiáº¿p
- Náº¿u táº¡o vÃ o Chá»§ nháº­t â†’ tá»± Ä‘á»™ng táº¡o tá»« Thá»© 2 Ä‘áº¿n Thá»© 7 cá»§a tuáº§n sau
- **Má»—i tuáº§n chá»‰ cÃ³ 1 PMC duy nháº¥t** (khÃ´ng cÃ³ version)

## Giao diá»‡n

### Pháº§n 1: Thá»‘ng kÃª tá»•ng há»£p (TrÃªn dáº¥u Ä‘á»)
Hiá»ƒn thá»‹ cÃ¡c chá»‰ sá»‘ thá»‘ng kÃª theo tá»«ng ngÃ y:

1. **#CN Cáº§n SDV**: Sá»‘ lÆ°á»£ng cÃ´ng nhÃ¢n cáº§n cho cÃ´ng ty SDV
2. **#CN Cáº§n VM**: Sá»‘ lÆ°á»£ng cÃ´ng nhÃ¢n cáº§n cho cÃ´ng ty VM
3. **#CN Cáº§n LUCKY**: Sá»‘ lÆ°á»£ng cÃ´ng nhÃ¢n cáº§n cho cÃ´ng ty LUCKY
4. **Tá»”NG Cáº¦N CN**: Tá»•ng sá»‘ cÃ´ng nhÃ¢n cáº§n (highlight mÃ u vÃ ng)
5. **#CN CÃ³**: Sá»‘ lÆ°á»£ng cÃ´ng nhÃ¢n cÃ³ sáºµn
6. **DT THEO KHSX**: Doanh thu theo káº¿ hoáº¡ch sáº£n xuáº¥t
7. **DT THEO NGTV1**: Doanh thu theo nguyÃªn táº¯c V1
8. **VÆ¯á»¢T**: Pháº§n trÄƒm vÆ°á»£t má»¥c tiÃªu (cÃ³ mÃ u sáº¯c):
   - ğŸ”´ Äá»: â‰¥ 90%
   - ğŸŸ¡ VÃ ng: 85-89%
   - ğŸŸ¢ Xanh: < 85%
9. **#CN Thiáº¿u**: Sá»‘ cÃ´ng nhÃ¢n thiáº¿u (highlight mÃ u vÃ ng)

### Pháº§n 2: Chi tiáº¿t káº¿ hoáº¡ch (DÆ°á»›i dáº¥u Ä‘á»)
Báº£ng chi tiáº¿t vá»›i cÃ¡c cá»™t:
- **MÃ£ váº­t liá»‡u**: MÃ£ sáº£n pháº©m
- **TÃªn linh kiá»‡n**: TÃªn chi tiáº¿t
- **Káº¿ hoáº¡ch**: Loáº¡i káº¿ hoáº¡ch
- **Tá»•ng**: Tá»•ng sá»‘ lÆ°á»£ng
- **KhÃ¡ch hÃ ng**: TÃªn khÃ¡ch hÃ ng
- **CÃ¡c ngÃ y**: 6 cá»™t tá»« Thá»© 2 Ä‘áº¿n Thá»© 7

Má»—i sáº£n pháº©m cÃ³ 3 hÃ ng dá»¯ liá»‡u:
1. **YÃªu cáº§u KH/POæ•°é‡** (mÃ u vÃ ng): YÃªu cáº§u PO muá»‘n giao cÃ´ng
2. **Káº¿ hoáº¡ch SX/ç”Ÿäº§è®¡åˆ’** (mÃ u xanh): Sá»‘ lÆ°á»£ng sáº½ sáº£n xuáº¥t
3. **Káº¹p/å–·æ²¹æ¨¡** (mÃ u cam): Sá»‘ lÆ°á»£ng káº¹p dÃ¹ng

## Chá»©c nÄƒng

### 1. Táº¡o PMC tuáº§n má»›i
Khi chÆ°a cÃ³ PMC cho tuáº§n hiá»‡n táº¡i:
- Click **"Táº¡o PMC Tuáº§n Má»›i"**: Táº¡o PMC trá»‘ng
- Click **"Táº¡o tá»« Tuáº§n TrÆ°á»›c"**: Copy dá»¯ liá»‡u tá»« tuáº§n trÆ°á»›c

### 2. Xem PMC theo tuáº§n
- **< (Tuáº§n trÆ°á»›c)**: Xem PMC tuáº§n trÆ°á»›c Ä‘Ã³
- **> (Tuáº§n sau)**: Xem PMC tuáº§n tiáº¿p theo
- Hiá»ƒn thá»‹ tÃªn tuáº§n vÃ  tráº¡ng thÃ¡i á»Ÿ header

### 3. Nháº­p/Chá»‰nh sá»­a dá»¯ liá»‡u
- Click vÃ o Ã´ sá»‘ trong pháº§n chi tiáº¿t Ä‘á»ƒ nháº­p giÃ¡ trá»‹
- CÃ¡c Ã´ cÃ³ thá»ƒ nháº­p:
  - YÃªu cáº§u KH/POæ•°é‡
  - Káº¿ hoáº¡ch SX/ç”Ÿäº§è®¡åˆ’
  - Káº¹p/å–·æ²¹æ¨¡
- Khi cÃ³ thay Ä‘á»•i, nÃºt **"LÆ°u"** sáº½ Ä‘Æ°á»£c enable

### 4. LÆ°u dá»¯ liá»‡u
- Click **"LÆ°u"** Ä‘á»ƒ lÆ°u thay Ä‘á»•i
- Há»‡ thá»‘ng tá»± Ä‘á»™ng:
  - Cáº­p nháº­t dá»¯ liá»‡u hiá»‡n táº¡i (khÃ´ng táº¡o version má»›i)
  - TÃ­nh toÃ¡n láº¡i pháº§n thá»‘ng kÃª
  - Hiá»ƒn thá»‹ thÃ´ng bÃ¡o thÃ nh cÃ´ng

### 5. LÃ m má»›i
- Click **"LÃ m má»›i"** Ä‘á»ƒ táº£i láº¡i dá»¯ liá»‡u tá»« server
- Há»§y bá» cÃ¡c thay Ä‘á»•i chÆ°a lÆ°u

## Tá»± Ä‘á»™ng tÃ­nh toÃ¡n

### Pháº§n thá»‘ng kÃª tá»± Ä‘á»™ng cáº­p nháº­t khi:
1. Thay Ä‘á»•i giÃ¡ trá»‹ **Káº¹p/å–·æ²¹æ¨¡**:
   - TÃ­nh láº¡i #CN Cáº§n SDV, VM, LUCKY
   - TÃ­nh láº¡i Tá»”NG Cáº¦N CN
   - TÃ­nh láº¡i #CN Thiáº¿u

2. Thay Ä‘á»•i **Káº¿ hoáº¡ch SX**:
   - TÃ­nh láº¡i DT THEO KHSX
   - TÃ­nh láº¡i VÆ¯á»¢T %

## MÃ u sáº¯c & Highlight

### Pháº§n thá»‘ng kÃª:
- **Highlight vÃ ng**: CÃ¡c chá»‰ sá»‘ quan trá»ng (Tá»”NG Cáº¦N CN, VÆ¯á»¢T, #CN Thiáº¿u)
- **MÃ u Ä‘á»™ng VÆ¯á»¢T**: Äá»/VÃ ng/Xanh theo pháº§n trÄƒm

### Pháº§n chi tiáº¿t:
- **MÃ u vÃ ng nháº¡t**: YÃªu cáº§u KH/PO
- **MÃ u xanh nháº¡t**: Káº¿ hoáº¡ch SX
- **MÃ u cam nháº¡t**: Káº¹p
- **MÃ u xanh Ä‘áº­m**: Cá»™t cá»‘ Ä‘á»‹nh (MÃ£ VL, TÃªn LK, Tá»•ng, KH)

## Tráº¡ng thÃ¡i PMC
- **DRAFT**: Äang soáº¡n tháº£o (mÃ u cam)
- **APPROVED**: ÄÃ£ phÃª duyá»‡t (mÃ u xanh)

## LÆ°u Ã½
- Chá»‰ cÃ³ thá»ƒ chá»‰nh sá»­a PMC á»Ÿ tráº¡ng thÃ¡i DRAFT
- **Má»—i tuáº§n chá»‰ cÃ³ 1 PMC duy nháº¥t** - khÃ´ng cÃ³ versioning
- Dá»¯ liá»‡u Ä‘Æ°á»£c cáº­p nháº­t trá»±c tiáº¿p khi nháº¥n "LÆ°u"
- NÃªn lÆ°u thÆ°á»ng xuyÃªn Ä‘á»ƒ trÃ¡nh máº¥t dá»¯ liá»‡u
- KhÃ´ng thá»ƒ táº¡o PMC trÃ¹ng tuáº§n - pháº£i xÃ³a PMC cÅ© trÆ°á»›c

## API Integration
Component Ä‘Ã£ Ä‘Æ°á»£c tÃ­ch há»£p Ä‘áº§y Ä‘á»§ vá»›i backend:
- `GET /pmc?weekStart={date}`: Láº¥ (khÃ´ng Ä‘Æ°á»£c trÃ¹ng tuáº§n)
- `POST /pmc/save`: LÆ°u PMC (cáº­p nháº­t trá»±c tiáº¿p, khÃ´ng táº¡o version
- `POST /pmc/save`: LÆ°u PMC (táº¡o version má»›i)
- `GET /pmc/previous?weekStart={date}`: Láº¥y PMC tuáº§n trÆ°á»›c

## Keyboard Shortcuts
- **Tab**: Di chuyá»ƒn giá»¯a cÃ¡c Ã´ nháº­p liá»‡u
- **Enter**: XÃ¡c nháº­n nháº­p vÃ  chuyá»ƒn Ã´ tiáº¿p theo
- **Esc**: Há»§y chá»‰nh sá»­a Ã´ hiá»‡n táº¡i
